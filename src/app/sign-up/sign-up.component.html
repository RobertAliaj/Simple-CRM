<mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>


<mat-card class="login-card box-shadow">

    <button mat-icon-button class="back-btn" (click)="this.router.navigate([''])">
        <mat-icon>arrow_back</mat-icon>
    </button>

    <mat-card-title>Sign Up</mat-card-title>

    <form class="login-form" [formGroup]="signUpFormValid" (ngSubmit)="signUp()">

        <!-- <div> -->


        <div class="input-container full-width">
            <mat-form-field class="half-width">
                <mat-label>First Name</mat-label>
                <input matInput formControlName="firstName" placeholder="First Name">
                <mat-error>Please enter your first name</mat-error>
            </mat-form-field>

            <mat-form-field class="half-width">
                <mat-label>Last Name</mat-label>
                <input matInput formControlName="lastName" placeholder="Last Name">
                <mat-error>Please enter your last name</mat-error>
            </mat-form-field>
        </div>

        <!--Full Width -->
        <div class="input-container full-width">
            <mat-form-field class="full-width">
                <mat-label>Birth Date</mat-label>
                <input matInput formControlName="birthDate" [matDatepicker]="picker1" placeholder="Date">
                <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
                <mat-datepicker #picker1></mat-datepicker>
                <mat-error>Please Pick a date</mat-error>
            </mat-form-field>
        </div>

        <div class="input-container full-width">
            <mat-form-field class="half-width">
                <mat-label>Street + House No.</mat-label>
                <input matInput formControlName="street" placeholder="Adress">
                <mat-error>Please enter your street</mat-error>
            </mat-form-field>

            <mat-form-field class="half-width">
                <mat-label>Zip Code</mat-label>
                <input matInput formControlName="zipCode" placeholder="Zip Code">
                <mat-error>
                    <span *ngIf="signUpFormValid.get('zipCode')?.hasError('required')">Please enter your zip
                        code</span>
                    <span *ngIf="signUpFormValid.get('zipCode')?.hasError('pattern')">Only number accepted</span>
                </mat-error>
            </mat-form-field>
        </div>

        <div class="input-container  full-width">
            <mat-form-field class="full-width">
                <mat-label>City</mat-label>
                <input matInput formControlName="city" placeholder="City">
                <mat-error>Please enter your City</mat-error>
            </mat-form-field>
        </div>

        <div class="input-container full-width">
            <mat-form-field class="half-width">
                <mat-label>Email</mat-label>
                <input matInput type="email" formControlName="email" autocomplete="on">
                <mat-error>
                    <span *ngIf="!emailInUse">Please enter a valid email</span>
                    <span *ngIf="emailInUse">This Email is already in use</span>
                </mat-error>
            </mat-form-field>

            <mat-form-field class="half-width">
                <mat-label>Password</mat-label>
                <input matInput type="password" formControlName="password" autocomplete="on">
                <mat-error>Please give a password</mat-error>
            </mat-form-field>
        </div>


        <div mat-dialog-actions class="button-container">
            <button color="primary" [disabled]="this.signUpFormValid.invalid || this.signUpFormValid.disabled"
                type="submit" mat-raised-button>Register</button>
        </div>
        <!-- </div> -->

    </form>


    <p>Already have an account?
        <button [disabled]="this.signUpFormValid.disabled" mat-button color="primary"
            (click)="navigateToLogin()">Login</button>
    </p>
</mat-card>